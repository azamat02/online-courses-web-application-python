{% extends "app/layout.html" %}
{% load static %}
<link href="{% static 'app/css/course.css' %}" rel="stylesheet">
{% block content %}
    <style>
        .container .course_section{
            display: grid;
            grid-template-columns: repeat(2,1fr);
            grid-column-gap: 50px;
        }
        .card {
            border: none;
            box-shadow: 5px 6px 6px 2px #e9ecef;
            border-radius: 4px
        }

        .icons i {
            margin-left: 8px
        }

        .reply small {
            color: #b7b4b4
        }

        .reply small:hover {
            color: green;
            cursor: pointer;
        }
        .opinion_submit{
            background-color:#3A7CA5;
            border: none;
            color: white;
            padding: 16px 32px;
            text-decoration: none;
            margin: 4px 2px;
            cursor: pointer;
        }
        .course_name{
            font-family: Open Sans;
            font-style: normal;
            font-weight: bold;
            font-size: 24px;
            line-height: 32px;
            font-feature-settings: 'liga' off;
            color: #FFFFFF;
        }
        .course_description{
            font-family: Open Sans;
            font-style: normal;
            font-weight: normal;
            font-size: 16px;
            line-height: 26px;
            font-feature-settings: 'liga' off;
            color: #FFFFFF;
        }
        .rating{
            font-family: Open Sans;
            font-style: normal;
            font-weight: bold;
            font-size: 12px;
            line-height: 16px;
            /* identical to box height, or 133% */

            display: flex;
            align-items: center;
            text-transform: uppercase;
            color: #3A7CA5;
        }
        .rate{
            background-color:#FFFFFF;
            border: none;
            color: #3A7CA5;
            padding: 16px 32px;
            text-decoration: none;
            margin: 4px 2px;
            cursor: pointer;
        }
    </style>
    <section class="banner_course" style="padding-top: 30px">
        <div class="container">
            <div class="course_section">
                <div style="background-color: #3A7CA5;">
                    <div style="margin-left: 20px;margin-top:30px">
                        <h2 class="course_name">{{ courses.course_name }}</h2>
                        <p class="course_description">
                            {{ courses.course_description }}
                        </p>
                    <div style="width:300px;height:auto; background-color: white;border: 1px solid rgba(24, 25, 31, 0.15);box-sizing: border-box;border-radius: 8px;">
                            {%if user.is_authenticated%}
                                <p class="rating" style="margin-left: 10px">Rate course from 1 to 5: </p>
                                <form class="" style="margin-left: 10px" action="{% url 'rate_course' courses.id %}" method="post">
                                    {% csrf_token %}
                                    {% for i in '12345'|make_list %}
                                        <input class="custom-radio" type="radio" name="rate_val" value="{{forloop.counter}}">
                                    {%endfor%}
                                    <input class="rate" type="submit" name="" value="Rate">
                                </form>
                            {% endif %}
                    </div>
                    </div>
                </div>
                <div style="background-color: #f7f6f6">
                    {%if user.is_authenticated%}
                        <div class="container mt-5">
                            <div class="row d-flex justify-content-center">
                                <div class="col-md-8">
                                    <div class="headings d-flex justify-content-between align-items-center mb-3">
                                        <h5>Comments</h5>
                                    </div>
                                    <div class="card p-3">
                                        {% if comments_of_course %}
                                            {% for comment in comments_of_course %}
                                                <div class="d-flex justify-content-between align-items-center">
                                                <div class="user d-flex flex-row align-items-center">
                                                <span><small class="font-weight-bold text-primary">{{comment.comment_user.username}}</small>
                                                    <small class="font-weight-bold">{{comment.comment_text}}</small>
                                                </span>
                                                </div>
                                                </div>
                                            {% endfor %}
                                        {% else %}
                                            <p>No comments on this article yet</p>
                                        {% endif %}
                                        <form class="" action="{% url 'leave_comment' courses.id %}" method="post">
                                            {% csrf_token %}
                                            <textarea style="width:300px;margin-right: 30px;" name="comment_text" rows="8" cols="80" placeholder="Leave your thoughts" required></textarea>
                                            <br><input class="opinion_submit" type="submit" name="" value="Submit">
                                        </form>
                    {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}